Главная страница проекта (список матчей):

	Получение данных осуществляется напрямую из базы данных PostgreSQL на основе таблицы gamecenter, которая хранит результаты всех матчей сезона NHL 2021/2022.

	Для выборки матчей реализована функция get_games_grouped_by_date_with_cutoff(limit, offset) в repositories/games.py.

	Функция группирует матчи по дате проведения.

	Добавляет в выборку новые дни с матчами до тех пор, пока не будет достигнут установленный лимит по количеству матчей (например, 10), включая полностью все игры последнего добавленного дня.

	Данные передаются на страницу через FastAPI-роут с поддержкой пагинации (параметр ?page=), что позволяет пользователю постранично просматривать матчи.

Структура таблицы на главной странице:

	Для каждого дня выводится отдельная таблица, объединяющая матчи, сыгранные в этот день.

	В каждой строке таблицы отображается:

	Дата (только в первой строке блока на каждый день)

	Домашняя команда (логотип + полное название с ссылкой на страницу текущей формы команды)

	Счёт матча (ссылка на страницу матча)

	Гостевая команда (логотип + полное название с ссылкой на страницу текущей формы команды)

	Примечание к матчу (например, OT, SO, REG)

	Если матчей за день несколько, то дата выводится только для первой строки, остальные строки оставляют ячейку даты пустой для чистоты визуального восприятия.

Визуальное оформление и адаптация интерфейса:

	Использована таблица без внешних рамок (borderless), оформленная с помощью TailwindCSS.

	Добавлены фиксированные ширины колонок для равномерного отображения строк и предотвращения "прыгания" макета.

	Применено вертикальное выравнивание всех ячеек (align-middle) и адаптированные отступы (py-1, px-2) для плотного и чистого внешнего вида.

	При наведении строка подсвечивается (hover effect), что повышает удобство навигации.

	Использованы минималистичные шрифты и цветовые акценты, соответствующие общему стилю проекта.

Пользовательская навигация:

	Под списком матчей расположена панель пагинации:

	Кнопка "Previous" (если пользователь находится не на первой странице)

	Индикатор текущей страницы

	Кнопка "Next" для перехода к следующей порции матчей

	Пагинация работает на основе параметра ?page= и корректно взаимодействует с логикой группировки по дате.

Иконки команд:

	Для каждой команды используется индивидуальный логотип, загруженный в директорию /static/logos/ и отображаемый рядом с названием команды.

	Логотипы адаптированы под минимальный размер (высота 16px) для соответствия стилистике минималистичного списка.


Получение данных матчей (get_games()):

	Функция get_games(limit: int, offset: int) реализована в модуле repositories/games.py.

	Отвечает за асинхронную выборку данных матчей напрямую из таблицы gamecenter в PostgreSQL.

	Выборка осуществляется с использованием SQLAlchemy select(), отсортирована по дате матча (в порядке убывания — от самых свежих к старым).

	Параметры:

		limit — максимальное количество записей, извлекаемых за один вызов (по умолчанию установлено значение 10).

		offset — смещение для реализации постраничной навигации.

	Для каждого матча формируется объект DTO (Data Transfer Object) GameShortDTO с полями:

		id_game — уникальный идентификатор игры (соответствует id_game в базе)

		date — дата проведения матча

		home_team — полное название домашней команды (получается через get_team_by_abbrev())

		home_team_abbr — сокращённое название домашней команды (используется для логотипа)

		away_team — полное название гостевой команды

		away_team_abbr — сокращённое название гостевой команды

		score — итоговый счёт матча в формате "X – Y"

		note — тип матча (REG, OT, SO) или пустая строка, если не указан

	В процессе формирования DTO для каждой команды происходит дополнительный вызов get_team_by_abbrev(), который извлекает из таблицы teams полное название команды на основе её сокращения.

	Если команда не найдена в базе — для названия используется сокращение напрямую из gamecenter.

Группировка матчей по дате (get_games_grouped_by_date_with_cutoff()):

	Функция реализована как дополнительная логика над get_games().

	Группирует полученные матчи по дате проведения с использованием defaultdict(list).

	Отсортированные группы матчей собираются до тех пор, пока суммарное количество матчей не достигнет заданного лимита.

	Важно: если последний добавленный в выборку день превышает лимит — он добавляется целиком, чтобы избежать разрыва дня на разные страницы.

	Это поведение позволяет сохранять целостность отображения данных за один игровой день и избегать частичного вывода.

	Результат выполнения функции — список кортежей (дата, [список матчей за эту дату]).

Реализация поиска матчей на стартовой странице сайта:

	Добавлена интерактивная поисковая форма прямо под заголовком раздела «NHL 2021/2022 — Results, Scores & Historical Stats».

	Форма поиска состоит из двух отдельных полей:

		Поле ввода команды: позволяет искать матчи, в которых участвовала команда как в роли домашней, так и в роли гостевой. Поиск регистронезависимый, поддерживает частичное совпадение названия (например, при вводе Rangers найдутся матчи с New York Rangers).

		Поле выбора даты: позволяет искать матчи, сыгранные в выбранную дату. Дата может быть выбрана только в пределах сезона 2021/2022 (с 25 сентября 2021 по 27 июня 2022).

	Пользователь может воспользоваться либо полем команды, либо полем даты, фильтрация по двум полям одновременно не предусмотрена.

	Кнопка Search выполняет запрос с введёнными параметрами, после чего на странице отображаются только соответствующие игры.

	Добавлена кнопка Reset, которая сбрасывает параметры поиска и возвращает пользователя на стартовую страницу с полным списком матчей и первой страницей пагинации.

Логика обработки поиска на стороне сервера (FastAPI + Jinja2):

	Контроллер главной страницы (@app.get("/")) был доработан для приёма дополнительных query-параметров: search_team и search_date. Эти параметры используются для фильтрации списка матчей при запросе страницы.

	Лимит на количество отображаемых игр сохранён — 20 игр на страницу, с поддержкой пагинации.

	Поисковый запрос обрабатывается на сервере внутри функции get_games_grouped_by_date_with_cutoff(), в которой реализована следующая логика:

		Если указан поисковый параметр search_team, отбираются только те игры, в которых команда указана как home_team или away_team. Сравнение производится без учёта регистра.

		Если указан поисковый параметр search_date, отбираются только игры, дата которых точно совпадает с указанной.

		Если параметры поиска не указаны — отображаются все игры согласно стандартной логике вывода.

	Группировка матчей по дате сохранена, чтобы соответствовать дизайну сайта: игры объединяются в блоки по игровой дате и сортируются по убыванию даты.

	Если после применения фильтрации игр не найдено — на странице отображается сообщение «No matches found for your search.» вместо пустого списка.

	Пагинация работает корректно как в обычном режиме, так и при активном поиске.

Особенности фронтенда и UX:

	Визуально форма поиска встроена органично в существующий дизайн и размещена между заголовком и списком игр.

	Используется Tailwind CSS для стилизации формы и кнопок.

	Все введённые значения автоматически сохраняются в полях формы после выполнения поиска благодаря использованию request.query_params внутри шаблона Jinja2.

	Сообщение об отсутствии найденных матчей также стилизовано в общем стиле сайта.
